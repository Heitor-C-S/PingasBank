#  questao 1 strcpy
#  fiz para copiar str1 para buf e para o programa parar

.data
str1:   .asciiz "ABC"
buf:    .space 16      # destino

.text
.globl main
main:
        la   $a0, buf     # destino
        la   $a1, str1    # origem
        jal  strcpy       # faz a cópia

        #aqui ele para e buf deve conter "ABC"
loop:   j loop            # fica parado para inspeção

# $a0 = dest, $a1 = src
# retorna $v0 = dest
strcpy:
        move $t0, $a0          # ponteiro dest
        move $t1, $a1          # ponteiro src

cpy_loop:
        lb   $t2, 0($t1)       # byte da origem
        sb   $t2, 0($t0)       # joga no dest
        beqz $t2, cpy_end      # encontrou \0
        addi $t0, $t0, 1	# avança destino	
        addi $t1, $t1, 1        # avança origem
        j    cpy_loop

cpy_end:
        move $v0, $a0		# retorna destino
        jr   $ra